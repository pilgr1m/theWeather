(this.webpackJsonpwezer=this.webpackJsonpwezer||[]).push([[0],{18:function(e,t,a){e.exports={appFooter:"AppFooter_appFooter__1rkaN",footerLink:"AppFooter_footerLink__iUDII"}},19:function(e,t,a){e.exports={spinnerWrapper:"Spinner_spinnerWrapper__1KrPx",blockspin:"Spinner_blockspin__x4syY",loading:"Spinner_loading__LWV62",spinner:"Spinner_spinner__26pVQ",spin:"Spinner_spin__17_HY"}},28:function(e,t,a){e.exports={error:"Error_error__1EfO-"}},3:function(e,t,a){e.exports={wrapperForecast:"ForecastContainer_wrapperForecast__2gXVW",title:"ForecastContainer_title__avUwa",dayList:"ForecastContainer_dayList__17fbW",dayWrapper:"ForecastContainer_dayWrapper__2v8VC",day:"ForecastContainer_day__3nxtH",dayDate:"ForecastContainer_dayDate__Hg4Fg",iconMini:"ForecastContainer_iconMini__1G3dY",cardWrapper:"ForecastContainer_cardWrapper__3psWP",cardTitle:"ForecastContainer_cardTitle__3Yoo2",cardDescr:"ForecastContainer_cardDescr__k2VPZ",tempDescr:"ForecastContainer_tempDescr__2PBsk",cardWph:"ForecastContainer_cardWph__36tNZ",tempForTime:"ForecastContainer_tempForTime__3uwzt",time:"ForecastContainer_time__1UxOs",medi:"ForecastContainer_medi__Tbd2W",semi:"ForecastContainer_semi__3GegV",iconCard:"ForecastContainer_iconCard__2FNZr",close:"ForecastContainer_close__1358J"}},30:function(e,t,a){e.exports={appHeader:"AppHeader_appHeader__2A-pl"}},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(13),s=a.n(c),i=a(31),o=a(10),d=a(4),u={dataWeather:{},dataForecast:{},unit:"metric",city:"",error:!1,loading:!1},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_RECEIVED_WEATHER":return Object(d.a)(Object(d.a)({},e),{},{dataWeather:t.payload});case"DATA_RECEIVED_FORECAST":return Object(d.a)(Object(d.a)({},e),{},{dataForecast:t.payload});case"DATA_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.error});case"DATA_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:t.loading});case"SET_CITY":return Object(d.a)(Object(d.a)({},e),{},{city:t.city});case"SET_LAT":return Object(d.a)(Object(d.a)({},e),{},{lat:t.lat});case"SET_LON":return Object(d.a)(Object(d.a)({},e),{},{lon:t.lon});default:return e}},j=Object(o.b)({weather:l}),p=Object(o.c)(j),h=a(17),b=a(15),m=a(16),_=a(33),O=a(32),f=a(28),x=a.n(f),v=a(0),g=function(){return Object(v.jsx)("small",{className:x.a.error,children:"Error...Please enter a valid city."})},y=function(e){Object(_.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={error:!1},e}return Object(m.a)(a,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(v.jsx)(g,{}):this.props.children}}]),a}(n.a.Component),C=a(23),F=a.n(C),N=a(29),w=function(){function e(){Object(b.a)(this,e),this._baseUrl="https://api.openweathermap.org"}return Object(m.a)(e,[{key:"getResources",value:function(){var e=Object(N.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._baseUrl).concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentWeather",value:function(e,t,a){return this.getResources("/data/2.5/weather?&units=".concat(e,"&q=").concat(t,"&appid=").concat(a))}},{key:"getForecast8Days",value:function(e,t,a,r){return this.getResources("/data/2.5/onecall?lat=".concat(t,"&lon=").concat(a,"&units=").concat(e,"&exclude=current,minutely,hourly&appid=").concat(r))}}]),e}(),W=n.a.createContext(),k=a(30),D=a.n(k),E=a.p+"static/media/theWeather.ceb83871.svg",A=function(){return Object(v.jsx)("header",{className:D.a.appHeader,children:Object(v.jsx)("img",{src:E,alt:"logo"})})},R=a(18),T=a.n(R),S=function(){return Object(v.jsxs)("footer",{className:T.a.appFooter,children:["app by ",Object(v.jsx)("a",{href:"https://www.linkedin.com/in/vanja-volokha/",className:T.a.footerLink,target:"_blank",rel:"noreferrer",children:" Ivan Volokha"}),"  \xb7  2021  \xb7  design by ",Object(v.jsx)("a",{href:"https://www.linkedin.com/in/dasha-volokha/",className:T.a.footerLink,target:"_blank",rel:"noreferrer",children:" Daria Volokha "})]})},L=a(12),I=function(){return function(e){return function(t){return Object(v.jsx)(W.Consumer,{children:function(a){return Object(v.jsx)(e,Object(d.a)(Object(d.a)({},t),{},{OwmService:a}))}})}}};function M(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return"Month"}}function V(e){switch(e){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"Day"}}function H(e,t){return"metric"===e?"".concat(Math.round(t),"\xb0C"):"".concat(Math.round(1.8*t+32),"\xb0F")}function U(e,t){return"metric"===e?"".concat(t,"m/s "):"".concat((2.237*t).toFixed(1),"mph ")}function P(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.timezone_offset?t.timezone_offset-7200:t.timezone-7200,n=new Date(1e3*(e+r)),c=n.getMinutes(),s=n.getHours(),i=n.getDate(),o=n.getDay(),d=n.getMonth(),u="".concat(V(o)," \u2022 ").concat(s,":").concat(c<=9?"0".concat(c):c).concat(s>=11?"pm":"am",", ").concat(M(d)," ").concat(i),l="".concat(V(o).toUpperCase(),", ").concat(M(d)," ").concat(i);return a?u:l}function z(e,t){var a="".concat("/theWeather","/images/").concat(e,"/").concat(t,".png"),r="".concat("/theWeather","/images/").concat(e,"/");switch(t){case"01d":case"01n":case"02d":case"02n":return a;case"03d":case"03n":return"".concat(r,"03dn.png");case"04d":case"04n":return"".concat(r,"04dn.png");case"09d":case"09n":return"".concat(r,"09dn.png");case"10d":case"10n":return a;case"11d":case"11n":return"".concat(r,"11dn.png");case"13d":case"13n":return"".concat(r,"13dn.png");case"50d":case"50n":return a;default:return null}}var G=a(19),Y=a.n(G),J=function(){return Object(v.jsx)("div",{className:Y.a.spinnerWrapper,children:Object(v.jsx)("div",{className:Y.a.blockspin,children:Object(v.jsx)("div",{className:Y.a.spinner})})})},q=a(7),B=a.n(q),X=function(e){var t=e.error,a=e.loading,r=e.dataWeather,n=e.unitName;return Object(v.jsxs)(v.Fragment,{children:[t&&Object(v.jsx)(g,{}),a&&Object(v.jsx)(J,{}),200===r.cod?Object(v.jsxs)("div",{className:B.a.wrapper,children:[Object(v.jsxs)("div",{className:B.a.left,children:[Object(v.jsxs)("div",{className:B.a.date,children:[" ",P(r.dt,r,!0)," "]}),Object(v.jsxs)("div",{className:B.a.city,children:[" ",r.name,", ",r.sys.country," "]}),Object(v.jsxs)("div",{className:B.a.feelsLike,children:["Feels like ",H(n,r.main.feels_like)]}),Object(v.jsxs)("div",{className:B.a.wph,children:[Object(v.jsxs)("div",{children:["Wind: ",U(n,r.wind.speed)]}),Object(v.jsxs)("div",{children:["Pressure: ",r.main.pressure,"hPa "]}),Object(v.jsxs)("div",{children:["Humidity: ",r.main.humidity,"% "]})]}),Object(v.jsx)("div",{className:B.a.descr,children:r.weather.map((function(e){return Object(v.jsxs)("span",{children:[e.description.toUpperCase()," "]},e.id)}))})]}),Object(v.jsxs)("div",{className:B.a.tempDegrees,children:[" ",H(n,r.main.temp)]}),Object(v.jsx)("img",{className:B.a.icon,src:z("icons",r.weather[0].icon),alt:"iconWeather"})]}):null]})},Z=a(3),Q=a.n(Z),K=function(e){var t=e.id,a=e.unitName,r=e.dataForecast,n=e.isOpenCard,c=e.closeCard,s=r.daily;function i(e,t,r){return Object(v.jsxs)("div",{className:Q.a.time,children:[Object(v.jsxs)("div",{className:Q.a.medi,children:[" ",e," "]}),Object(v.jsxs)("div",{className:Q.a.semi,children:[" ",H(a,t)," "]}),Object(v.jsx)("span",{children:" feels like "}),Object(v.jsxs)("div",{className:Q.a.semi,children:[" ",H(a,r)," "]})]})}return Object(v.jsx)(v.Fragment,{children:n?Object(v.jsx)(v.Fragment,{children:function(e){return Object(v.jsxs)("div",{className:Q.a.cardWrapper,children:[Object(v.jsx)("h2",{className:Q.a.cardTitle,children:P(s[e].dt,r)}),Object(v.jsx)("h4",{className:Q.a.cardDescr,children:s[e].weather.map((function(e,t){return Object(v.jsx)("span",{children:"".concat(e.main,". ").concat(e.description).toUpperCase()},t)}))}),Object(v.jsxs)("div",{className:Q.a.tempDescr,children:["The high will be ",H(a,s[e].temp.max),", the low will be ",H(a,s[e].temp.min)]}),Object(v.jsxs)("div",{className:Q.a.cardWph,children:[Object(v.jsxs)("div",{children:[" Wind: ",U(a,s[e].wind_speed)]}),Object(v.jsxs)("div",{children:[" Pressure: ",s[e].pressure,"hPa "]}),Object(v.jsxs)("div",{children:[" Humidity: ",s[e].humidity,"% "]})]}),Object(v.jsxs)("div",{className:Q.a.tempForTime,children:[i("MORNING",s[e].temp.morn,s[e].feels_like.morn),i("AFTERNOON",s[e].temp.day,s[e].feels_like.day),i("EVENING",s[e].temp.eve,s[e].feels_like.eve)]}),Object(v.jsx)("img",{className:Q.a.iconCard,src:z("card-icons",s[e].weather[0].icon),alt:"cardIcon"}),Object(v.jsx)("button",{className:Q.a.close,onClick:function(){return c()}})]})}(t)}):null})},$=function(e){var t=e.clickDay,a=e.unitName,r=e.dataForecast,n=r.daily;return Object(v.jsx)(v.Fragment,{children:r.daily?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{className:Q.a.title,children:"8-day Forecast "}),Object(v.jsx)("div",{className:Q.a.dayList,children:n.map((function(e,n){return Object(v.jsx)("div",{onClick:function(){return t(n)},className:Q.a.dayWrapper,children:Object(v.jsxs)("div",{className:Q.a.day,children:[Object(v.jsxs)("span",{className:Q.a.dayDate,children:[" ",P(e.dt,r),"  "]}),Object(v.jsx)("div",{children:Object(v.jsx)("img",{className:Q.a.iconMini,src:z("mini-icons",e.weather[0].icon),alt:"iconMini"})}),Object(v.jsx)("span",{children:H(a,e.temp.day)})]})},e.dt)}))})]}):null})},ee=function(e){var t=e.dataForecast,a=e.unitName,n=Object(r.useState)(!1),c=Object(L.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(null),d=Object(L.a)(o,2),u=d[0],l=d[1];return Object(v.jsxs)("div",{className:Q.a.wrapperForecast,children:[Object(v.jsx)($,{id:u,dataForecast:t,unitName:a,clickDay:function(e){i(!0),l(e)}}),Object(v.jsx)(K,{id:u,dataForecast:t,unitName:a,isOpenCard:s,closeCard:function(){i(!1),l(null)}})]})},te=a(8),ae=a.n(te),re=a.p+"static/media/search.595d4dfb.svg",ne={dataReceivedWeather:function(e){return{type:"DATA_RECEIVED_WEATHER",payload:e}},dataError:function(e){return{type:"DATA_ERROR",error:e}},dataLoading:function(e){return{type:"DATA_LOADING",loading:e}},setCity:function(e){return{type:"SET_CITY",city:e}},dataReceivedForecast:function(e){return{type:"DATA_RECEIVED_FORECAST",payload:e}}},ce=I()(Object(h.b)((function(e){return{state:e.weather,dataWeather:e.weather.dataWeather,dataForecast:e.weather.dataForecast,city:e.weather.city,unit:e.weather.unit,error:e.weather.error,loading:e.weather.loading}}),ne)((function(e){var t=e.OwmService,a=e.dataReceivedWeather,n=e.dataError,c=e.dataLoading,s=e.setCity,i=e.dataReceivedForecast,o=e.dataWeather,d=e.dataForecast,u=e.city,l=e.unit,j=e.error,p=e.loading,h=Object(r.useState)(l),b=Object(L.a)(h,2),m=b[0],_=b[1];function O(e,t){return Object(v.jsxs)("div",{className:ae.a.divRadio,children:[Object(v.jsx)("input",{className:ae.a.radio,type:"radio",name:"units",checked:m===e,value:e,id:e,onChange:function(e){return _(e.target.value)}}),Object(v.jsxs)("label",{className:ae.a.label,htmlFor:e,children:[" ",Object(v.jsxs)("span",{children:[" ",t," "]})," "]})]})}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("form",{className:ae.a.weatherForm,onSubmit:function(e){if(e.preventDefault(),0===u.length)return a({}),n(!0);n(!1),c(!0),function(){var e=encodeURIComponent(u),r="30e6b4f237af660a7c482fbf7ecb5c62";t.getCurrentWeather(l,e,r).then((function(e){if(200!==e.cod)throw new Error;a(e),function(e,a){if(!e&&!a)return i({}),n(!0);n(!1),c(!0),function(e,a,r){var s="30e6b4f237af660a7c482fbf7ecb5c62";t.getForecast8Days(e,a,r,s).then((function(e){i(e),c(!1)})).catch((function(e){n(!0),c(!1),console.log(e.status)}))}(l,e,a)}(e.coord.lat,e.coord.lon),c(!1),n(!1)})).catch((function(e){console.log(e),c(!1),n(!0)}))}(),s("")},children:[Object(v.jsxs)("div",{className:ae.a.inputWrapper,children:[Object(v.jsx)("input",{type:"text",placeholder:"Search City",maxLength:"50",value:u,onChange:function(e){return s(e.target.value)}}),Object(v.jsx)("img",{src:re,alt:"search"})]}),Object(v.jsx)("button",{className:ae.a.buttonSubmit,type:"submit",children:"Search"}),Object(v.jsxs)("div",{className:ae.a.wrapperRadio,children:[O("metric","\xb0C"),O("imperial","\xb0F")]})]}),Object(v.jsx)(X,{dataWeather:o,unitName:m,loading:p,error:j}),Object(v.jsx)(ee,{dataForecast:d,unitName:m})]})}))),se=(a(44),function(){return Object(v.jsxs)("div",{className:"mainWrapper",children:[Object(v.jsx)(A,{}),Object(v.jsx)(ce,{}),Object(v.jsx)(S,{})]})}),ie=(a(45),new w);s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(h.a,{store:p,children:Object(v.jsx)(y,{children:Object(v.jsx)(W.Provider,{value:ie,children:Object(v.jsx)(i.a,{children:Object(v.jsx)(se,{})})})})})}),document.getElementById("root"))},7:function(e,t,a){e.exports={wrapper:"CurrentWeather_wrapper__sH8YV",left:"CurrentWeather_left__3p-iB",date:"CurrentWeather_date__310GM",city:"CurrentWeather_city__3UXhO",feelsLike:"CurrentWeather_feelsLike__2UeCV",wph:"CurrentWeather_wph__3q-vN",descr:"CurrentWeather_descr__2aAq-",tempDegrees:"CurrentWeather_tempDegrees__2E0Qr",icon:"CurrentWeather_icon__3iz35"}},8:function(e,t,a){e.exports={weatherForm:"WeatherContainer_weatherForm__1f4kg",inputWrapper:"WeatherContainer_inputWrapper__X02yx",buttonSubmit:"WeatherContainer_buttonSubmit__vThW6",wrapperRadio:"WeatherContainer_wrapperRadio__1FRc5",divRadio:"WeatherContainer_divRadio__1vFLF"}}},[[47,1,2]]]);
//# sourceMappingURL=main.5acc2565.chunk.js.map