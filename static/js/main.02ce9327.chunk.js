(this.webpackJsonpwezer=this.webpackJsonpwezer||[]).push([[0],{21:function(e,t,a){e.exports={appFooter:"AppFooter_appFooter__2pG09",footerLink:"AppFooter_footerLink__1-wUS"}},22:function(e,t,a){e.exports={spinnerWrapper:"Spinner_spinnerWrapper__1Q2gt",blockspin:"Spinner_blockspin__2vs3V",loading:"Spinner_loading__1H6FG",spinner:"Spinner_spinner__1thM_",spin:"Spinner_spin__71haK"}},29:function(e,t,a){e.exports={appHeader:"AppHeader_appHeader__1NEYY"}},3:function(e,t,a){e.exports={wrapperForecast:"ForecastContainer_wrapperForecast__plIm6",title:"ForecastContainer_title__3j-XY",dayList:"ForecastContainer_dayList__1UUy0",dayWrapper:"ForecastContainer_dayWrapper__3lxkO",day:"ForecastContainer_day__3XhiU",dayDate:"ForecastContainer_dayDate__1F36j",iconMini:"ForecastContainer_iconMini__4Vq-o",cardWrapper:"ForecastContainer_cardWrapper__1iQcV",cardTitle:"ForecastContainer_cardTitle__2YewU",cardDescr:"ForecastContainer_cardDescr__2wUpA",tempDescr:"ForecastContainer_tempDescr__3Vwrm",cardWph:"ForecastContainer_cardWph__3loj0",tempForTime:"ForecastContainer_tempForTime__eH8Kd",time:"ForecastContainer_time__2XpmA",medi:"ForecastContainer_medi__3IE4j",semi:"ForecastContainer_semi__1a8V4",iconCard:"ForecastContainer_iconCard__MrNGi",close:"ForecastContainer_close__3CphW"}},30:function(e,t,a){e.exports={error:"Error_error__2iTnk"}},38:function(e,t,a){},39:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(15),s=a.n(c),i=(a(38),a(39),a(29)),o=a.n(i),d=a.p+"static/media/theWeather.ceb83871.svg",u=a(0),l=function(){return Object(u.jsx)("header",{className:o.a.appHeader,children:Object(u.jsx)("img",{src:d,alt:"the Weathe. logo"})})},j=a(21),p=a.n(j),h=a(13),b=function(){return Object(u.jsxs)("footer",{className:p.a.appFooter,children:["app created by ",Object(u.jsx)(h.b,{to:"#",className:p.a.footerLink,children:" Ivan Volokha"})," \xb7 \xb7 \xb7 2021 \xb7 \xb7 \xb7 design by ",Object(u.jsx)(h.b,{to:"#",className:p.a.footerLink,children:" Daria Volokha "})]})},_=a(11),m=a.n(_),O=a(17),f=a(14),x=a(30),v=a.n(x),y=function(){return Object(u.jsx)("small",{className:v.a.error,children:"Error...Please enter a valid city."})},g=a(22),C=a.n(g),N=function(){return Object(u.jsx)("div",{className:C.a.spinnerWrapper,children:Object(u.jsx)("div",{className:C.a.blockspin,children:Object(u.jsx)("div",{className:C.a.spinner})})})};function w(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return"Month"}}function F(e){switch(e){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"Day"}}function W(e,t){return"metric"===e?"".concat(Math.round(t),"\xb0C"):"".concat(Math.round(1.8*t+32),"\xb0F")}function D(e,t){return"metric"===e?"".concat(t,"m/s "):"".concat((2.237*t).toFixed(1),"mph ")}function k(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.timezone_offset?t.timezone_offset-7200:t.timezone-7200,n=new Date(1e3*(e+r)),c=n.getMinutes(),s=n.getHours(),i=n.getDate(),o=n.getDay(),d=n.getMonth(),u="".concat(F(o)," \u2022 ").concat(s,":").concat(c<=9?"0".concat(c):c).concat(s>=11?"pm":"am",", ").concat(w(d)," ").concat(i),l="".concat(F(o).toUpperCase(),", ").concat(w(d)," ").concat(i);return a?u:l}function E(e,t){var a="".concat("/theWeather","/images/").concat(e,"/").concat(t,".png"),r="".concat("/theWeather","/images/").concat(e,"/");switch(t){case"01d":case"01n":case"02d":case"02n":return a;case"03d":case"03n":return"".concat(r,"03dn.png");case"04d":case"04n":return"".concat(r,"04dn.png");case"09d":case"09n":return"".concat(r,"09dn.png");case"10d":case"10n":return a;case"11d":case"11n":return"".concat(r,"11dn.png");case"13d":case"13n":return"".concat(r,"13dn.png");case"50d":case"50n":return a;default:return null}}var A=a(7),R=a.n(A),T=function(e){var t=e.error,a=e.loading,r=e.dataWeather,n=e.unitName;return Object(u.jsxs)("div",{children:[t&&Object(u.jsx)(y,{}),a&&Object(u.jsx)(N,{}),200===r.cod?Object(u.jsxs)("div",{className:R.a.wrapper,children:[Object(u.jsxs)("div",{className:R.a.left,children:[Object(u.jsxs)("div",{className:R.a.date,children:[" ",k(r.dt,r,!0)," "]}),Object(u.jsxs)("div",{className:R.a.city,children:[" ",r.name,", ",r.sys.country," "]}),Object(u.jsxs)("div",{className:R.a.feelsLike,children:["Feels like ",W(n,r.main.feels_like)]}),Object(u.jsxs)("div",{className:R.a.wph,children:[Object(u.jsxs)("div",{children:["Wind: ",D(n,r.wind.speed)]}),Object(u.jsxs)("div",{children:["Pressure: ",r.main.pressure,"hPa "]}),Object(u.jsxs)("div",{children:["Humidity: ",r.main.humidity,"% "]})]}),Object(u.jsx)("div",{className:R.a.descr,children:r.weather.map((function(e){return Object(u.jsxs)("span",{children:[e.description.toUpperCase()," "]},e.id)}))})]}),Object(u.jsxs)("div",{className:R.a.right,children:[Object(u.jsxs)("div",{className:R.a.tempDegrees,children:[" ",W(n,r.main.temp)]}),Object(u.jsx)("img",{className:R.a.icon,src:E("icons",r.weather[0].icon),alt:"iconWeather"})]})]}):null]})},S=a(3),L=a.n(S),M=function(e){var t=e.id,a=e.unitName,r=e.dataForecast,n=e.isOpenCard,c=e.closeCard,s=r.daily;function i(e,t,r){return Object(u.jsxs)("div",{className:L.a.time,children:[Object(u.jsxs)("div",{className:L.a.medi,children:[" ",e," "]}),Object(u.jsxs)("div",{className:L.a.semi,children:[" ",W(a,t)," "]}),Object(u.jsx)("span",{children:" feels like "}),Object(u.jsxs)("div",{className:L.a.semi,children:[" ",W(a,r)," "]})]})}return Object(u.jsx)(u.Fragment,{children:n?Object(u.jsx)(u.Fragment,{children:function(e){return Object(u.jsxs)("div",{className:L.a.cardWrapper,children:[Object(u.jsx)("h2",{className:L.a.cardTitle,children:k(s[e].dt,r)}),Object(u.jsx)("h4",{className:L.a.cardDescr,children:s[e].weather.map((function(e,t){return Object(u.jsx)("span",{children:"".concat(e.main,". ").concat(e.description).toUpperCase()},t)}))}),Object(u.jsxs)("div",{className:L.a.tempDescr,children:["The high will be ",W(a,s[e].temp.max),", the low will be ",W(a,s[e].temp.min),"."]}),Object(u.jsxs)("div",{className:L.a.cardWph,children:[Object(u.jsxs)("div",{children:[" Wind: ",D(a,s[e].wind_speed)]}),Object(u.jsxs)("div",{children:[" Pressure: ",s[e].pressure,"hPa "]}),Object(u.jsxs)("div",{children:[" Humidity: ",s[e].humidity,"% "]})]}),Object(u.jsxs)("div",{className:L.a.tempForTime,children:[i("MORNING",s[e].temp.morn,s[e].feels_like.morn),i("AFTERNOON",s[e].temp.day,s[e].feels_like.day),i("EVENING",s[e].temp.eve,s[e].feels_like.eve)]}),Object(u.jsx)("img",{className:L.a.iconCard,src:E("card-icons",s[e].weather[0].icon),alt:"cardIcon"}),Object(u.jsx)("button",{className:L.a.close,onClick:function(){return c()}})]})}(t)}):null})},I=function(e){var t=e.clickDay,a=e.unitName,r=e.dataForecast,n=r.daily;return Object(u.jsx)(u.Fragment,{children:r.daily?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:L.a.title,children:"8-day Forecast "}),Object(u.jsx)("div",{className:L.a.dayList,children:n.map((function(e,n){return Object(u.jsx)("div",{onClick:function(){return t(n)},className:L.a.dayWrapper,children:Object(u.jsxs)("div",{className:L.a.day,children:[Object(u.jsxs)("span",{className:L.a.dayDate,children:[" ",k(e.dt,r),"  "]}),Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:L.a.iconMini,src:E("mini-icons",e.weather[0].icon),alt:"iconMini"})}),Object(u.jsx)("span",{children:W(a,e.temp.day)})]})},e.dt)}))})]}):null})},V=function(e){var t=e.dataForecast,a=e.unitName,n=Object(r.useState)(!1),c=Object(f.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(null),d=Object(f.a)(o,2),l=d[0],j=d[1];return Object(u.jsxs)("div",{className:L.a.wrapperForecast,children:[Object(u.jsx)(I,{id:l,dataForecast:t,unitName:a,clickDay:function(e){i(!0),j(e)}}),Object(u.jsx)(M,{id:l,dataForecast:t,unitName:a,isOpenCard:s,closeCard:function(){i(!1),j(null)}})]})},U=a(20),H=a(4),G=n.a.createContext(),z=function(){return function(e){return function(t){return Object(u.jsx)(G.Consumer,{children:function(a){return Object(u.jsx)(e,Object(H.a)(Object(H.a)({},t),{},{OwmService:a}))}})}}},P=a(8),Y=a.n(P),J=a.p+"static/media/search.595d4dfb.svg",B={dataReceivedWeather:function(e){return{type:"DATA_RECEIVED_WEATHER",payload:e}},dataError:function(e){return{type:"DATA_ERROR",error:e}},dataLoading:function(e){return{type:"DATA_LOADING",loading:e}},setCity:function(e){return{type:"SET_CITY",city:e}},dataReceivedForecast:function(e){return{type:"DATA_RECEIVED_FORECAST",payload:e}}},K=z()(Object(U.b)((function(e){return{state:e.weather,dataWeather:e.weather.dataWeather,dataForecast:e.weather.dataForecast,city:e.weather.city,unit:e.weather.unit,error:e.weather.error,loading:e.weather.loading}}),B)((function(e){var t=e.OwmService,a=e.dataReceivedWeather,n=e.dataError,c=e.dataLoading,s=e.setCity,i=e.dataReceivedForecast,o=e.dataWeather,d=e.dataForecast,l=e.city,j=e.unit,p=e.error,h=e.loading;console.log(h);var b=Object(r.useState)(j),_=Object(f.a)(b,2),x=_[0],v=_[1];function y(){return(y=Object(O.a)(m.a.mark((function e(){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=encodeURIComponent(l),"30e6b4f237af660a7c482fbf7ecb5c62",e.next=4,t.getCurrentWeather(j,r,"30e6b4f237af660a7c482fbf7ecb5c62").then((function(e){if(200!==e.cod)throw new Error;a(e),g(e.coord.lat,e.coord.lon),c(!1),n(!1)})).catch((function(e){console.log(e),c(!1),n(!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,a){if(!e&&!a)return i({}),n(!0);n(!1),c(!0),function(e,a,r){t.getForecast8Days(e,a,r,"30e6b4f237af660a7c482fbf7ecb5c62").then((function(e){i(e),c(!1)})).catch((function(e){n(!0),c(!1),console.log(e.status)}))}(j,e,a)}function C(e,t){return Object(u.jsxs)("div",{className:Y.a.divRadio,children:[Object(u.jsx)("input",{className:Y.a.radio,type:"radio",name:"units",checked:x===e,value:e,id:e,onChange:function(e){return v(e.target.value)}}),Object(u.jsxs)("label",{className:Y.a.label,htmlFor:e,children:[" ",Object(u.jsxs)("span",{children:[" ",t," "]})," "]})]})}return Object(u.jsxs)("div",{className:Y.a.weather,children:[Object(u.jsxs)("form",{className:Y.a.weatherForm,onSubmit:function(e){if(e.preventDefault(),0===l.length)return a({}),n(!0);n(!1),c(!0),function(){y.apply(this,arguments)}(),s("")},children:[Object(u.jsxs)("div",{className:Y.a.inputWrapper,children:[Object(u.jsx)("input",{type:"text",placeholder:"Search City",maxLength:"50",value:l,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("img",{src:J,alt:"search"})]}),Object(u.jsx)("button",{className:Y.a.buttonSubmit,type:"submit",children:"Search"}),Object(u.jsxs)("div",{className:Y.a.wrapperRadio,children:[C("metric","\xb0C"),C("imperial","\xb0F")]})]}),Object(u.jsx)(T,{dataWeather:o,unitName:x,loading:h,error:p}),Object(u.jsx)(V,{dataForecast:d,unitName:x,loading:h,error:p})]})}))),Q=function(){return Object(u.jsxs)("div",{className:"wrapperApp",children:[Object(u.jsx)(l,{}),Object(u.jsx)(K,{}),Object(u.jsx)(b,{})]})},X=a(18),q=a(19),Z=a(33),$=a(32),ee=function(e){Object(Z.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(X.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={error:!1},e}return Object(q.a)(a,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(u.jsx)(y,{}):this.props.children}}]),a}(n.a.Component),te=function(){function e(){Object(X.a)(this,e),this._baseUrl="https://api.openweathermap.org"}return Object(q.a)(e,[{key:"getResources",value:function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._baseUrl).concat(t));case 2:if(a=e.sent,console.log("".concat(this._baseUrl).concat(t)),a.ok){e.next=6;break}throw new Error("Could not fetch ".concat(t,", received ").concat(a.status));case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentWeather",value:function(e,t,a){return this.getResources("/data/2.5/weather?&units=".concat(e,"&q=").concat(t,"&appid=").concat(a))}},{key:"getForecast8Days",value:function(e,t,a,r){return this.getResources("/data/2.5/onecall?lat=".concat(t,"&lon=").concat(a,"&units=").concat(e,"&exclude=current,minutely,hourly&appid=").concat(r))}}]),e}(),ae=a(10),re={dataWeather:{},dataForecast:{},unit:"metric",city:"",error:!1,loading:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_RECEIVED_WEATHER":return Object(H.a)(Object(H.a)({},e),{},{dataWeather:t.payload});case"DATA_RECEIVED_FORECAST":return Object(H.a)(Object(H.a)({},e),{},{dataForecast:t.payload});case"DATA_ERROR":return Object(H.a)(Object(H.a)({},e),{},{error:t.error});case"DATA_LOADING":return Object(H.a)(Object(H.a)({},e),{},{loading:t.loading});case"SET_CITY":return Object(H.a)(Object(H.a)({},e),{},{city:t.city});case"SET_LAT":return Object(H.a)(Object(H.a)({},e),{},{lat:t.lat});case"SET_LON":return Object(H.a)(Object(H.a)({},e),{},{lon:t.lon});default:return e}},ce=Object(ae.b)({weather:ne}),se=Object(ae.c)(ce),ie=new te;s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(U.a,{store:se,children:Object(u.jsx)(ee,{children:Object(u.jsx)(G.Provider,{value:ie,children:Object(u.jsx)(h.a,{children:Object(u.jsx)(Q,{})})})})})}),document.getElementById("root"))},7:function(e,t,a){e.exports={wrapper:"CurrentWeather_wrapper__2AeIO",left:"CurrentWeather_left__1h7mM",right:"CurrentWeather_right__4bg5r",date:"CurrentWeather_date__2koQ0",city:"CurrentWeather_city__3ezDR",feelsLike:"CurrentWeather_feelsLike__3V6KL",wph:"CurrentWeather_wph__2yrCz",descr:"CurrentWeather_descr__3tFwf",tempDegrees:"CurrentWeather_tempDegrees__BAtVt",icon:"CurrentWeather_icon__2Uh0-"}},8:function(e,t,a){e.exports={weather:"WeatherContainer_weather__Sfppc",weatherForm:"WeatherContainer_weatherForm__29QMP",inputWrapper:"WeatherContainer_inputWrapper__2VNKC",buttonSubmit:"WeatherContainer_buttonSubmit__3oVM6",wrapperRadio:"WeatherContainer_wrapperRadio__3Bfij",divRadio:"WeatherContainer_divRadio__GrLB5"}}},[[47,1,2]]]);
//# sourceMappingURL=main.02ce9327.chunk.js.map