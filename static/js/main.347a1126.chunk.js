(this.webpackJsonpwezer=this.webpackJsonpwezer||[]).push([[0],{20:function(e,t,a){e.exports={appFooter:"AppFooter_appFooter__2pG09",footerLink:"AppFooter_footerLink__1-wUS"}},21:function(e,t,a){e.exports={spinnerWrapper:"Spinner_spinnerWrapper__1Q2gt",blockspin:"Spinner_blockspin__2vs3V",loading:"Spinner_loading__1H6FG",spinner:"Spinner_spinner__1thM_",spin:"Spinner_spin__71haK"}},28:function(e,t,a){e.exports={appHeader:"AppHeader_appHeader__1NEYY"}},29:function(e,t,a){e.exports={error:"Error_error__2iTnk"}},3:function(e,t,a){e.exports={wrapperForecast:"ForecastContainer_wrapperForecast__plIm6",title:"ForecastContainer_title__3j-XY",dayList:"ForecastContainer_dayList__1UUy0",dayWrapper:"ForecastContainer_dayWrapper__3lxkO",day:"ForecastContainer_day__3XhiU",dayDate:"ForecastContainer_dayDate__1F36j",iconMini:"ForecastContainer_iconMini__4Vq-o",cardWrapper:"ForecastContainer_cardWrapper__1iQcV",cardTitle:"ForecastContainer_cardTitle__2YewU",cardDescr:"ForecastContainer_cardDescr__2wUpA",tempDescr:"ForecastContainer_tempDescr__3Vwrm",cardWph:"ForecastContainer_cardWph__3loj0",tempForTime:"ForecastContainer_tempForTime__eH8Kd",time:"ForecastContainer_time__2XpmA",medi:"ForecastContainer_medi__3IE4j",semi:"ForecastContainer_semi__1a8V4",iconCard:"ForecastContainer_iconCard__MrNGi",close:"ForecastContainer_close__3CphW"}},38:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(14),s=a.n(c),i=(a(38),a(28)),o=a.n(i),d=a.p+"static/media/theWeather.ceb83871.svg",u=a(0),l=function(){return Object(u.jsx)("header",{className:o.a.appHeader,children:Object(u.jsx)("img",{src:d,alt:"the Weathe. logo"})})},h=a(20),j=a.n(h),p=function(){return Object(u.jsxs)("footer",{className:j.a.appFooter,children:["app by ",Object(u.jsx)("a",{href:"https://www.linkedin.com/in/vanja-volokha/",className:j.a.footerLink,target:"_blank",rel:"noreferrer",children:" Ivan Volokha"}),"  \xb7  2021  \xb7  design by ",Object(u.jsx)("a",{href:"https://www.linkedin.com/in/dasha-volokha/",className:j.a.footerLink,target:"_blank",rel:"noreferrer",children:" Daria Volokha "})]})},b=a(11),m=a.n(b),_=a(16),O=a(13),f=a(29),x=a.n(f),v=function(){return Object(u.jsx)("small",{className:x.a.error,children:"Error...Please enter a valid city."})},y=a(21),g=a.n(y),C=function(){return Object(u.jsx)("div",{className:g.a.spinnerWrapper,children:Object(u.jsx)("div",{className:g.a.blockspin,children:Object(u.jsx)("div",{className:g.a.spinner})})})};function w(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return"Month"}}function N(e){switch(e){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"Day"}}function F(e,t){return"metric"===e?"".concat(Math.round(t),"\xb0C"):"".concat(Math.round(1.8*t+32),"\xb0F")}function W(e,t){return"metric"===e?"".concat(t,"m/s "):"".concat((2.237*t).toFixed(1),"mph ")}function k(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.timezone_offset?t.timezone_offset-7200:t.timezone-7200,n=new Date(1e3*(e+r)),c=n.getMinutes(),s=n.getHours(),i=n.getDate(),o=n.getDay(),d=n.getMonth(),u="".concat(N(o)," \u2022 ").concat(s,":").concat(c<=9?"0".concat(c):c).concat(s>=11?"pm":"am",", ").concat(w(d)," ").concat(i),l="".concat(N(o).toUpperCase(),", ").concat(w(d)," ").concat(i);return a?u:l}function D(e,t){var a="".concat("/theWeather","/images/").concat(e,"/").concat(t,".png"),r="".concat("/theWeather","/images/").concat(e,"/");switch(t){case"01d":case"01n":case"02d":case"02n":return a;case"03d":case"03n":return"".concat(r,"03dn.png");case"04d":case"04n":return"".concat(r,"04dn.png");case"09d":case"09n":return"".concat(r,"09dn.png");case"10d":case"10n":return a;case"11d":case"11n":return"".concat(r,"11dn.png");case"13d":case"13n":return"".concat(r,"13dn.png");case"50d":case"50n":return a;default:return null}}var E=a(7),A=a.n(E),R=function(e){var t=e.error,a=e.loading,r=e.dataWeather,n=e.unitName;return Object(u.jsxs)("div",{children:[t&&Object(u.jsx)(v,{}),a&&Object(u.jsx)(C,{}),200===r.cod?Object(u.jsxs)("div",{className:A.a.wrapper,children:[Object(u.jsxs)("div",{className:A.a.left,children:[Object(u.jsxs)("div",{className:A.a.date,children:[" ",k(r.dt,r,!0)," "]}),Object(u.jsxs)("div",{className:A.a.city,children:[" ",r.name,", ",r.sys.country," "]}),Object(u.jsxs)("div",{className:A.a.feelsLike,children:["Feels like ",F(n,r.main.feels_like)]}),Object(u.jsxs)("div",{className:A.a.wph,children:[Object(u.jsxs)("div",{children:["Wind: ",W(n,r.wind.speed)]}),Object(u.jsxs)("div",{children:["Pressure: ",r.main.pressure,"hPa "]}),Object(u.jsxs)("div",{children:["Humidity: ",r.main.humidity,"% "]})]}),Object(u.jsx)("div",{className:A.a.descr,children:r.weather.map((function(e){return Object(u.jsxs)("span",{children:[e.description.toUpperCase()," "]},e.id)}))})]}),Object(u.jsxs)("div",{className:A.a.right,children:[Object(u.jsxs)("div",{className:A.a.tempDegrees,children:[" ",F(n,r.main.temp)]}),Object(u.jsx)("img",{className:A.a.icon,src:D("icons",r.weather[0].icon),alt:"iconWeather"})]})]}):null]})},T=a(3),S=a.n(T),L=function(e){var t=e.id,a=e.unitName,r=e.dataForecast,n=e.isOpenCard,c=e.closeCard,s=r.daily;function i(e,t,r){return Object(u.jsxs)("div",{className:S.a.time,children:[Object(u.jsxs)("div",{className:S.a.medi,children:[" ",e," "]}),Object(u.jsxs)("div",{className:S.a.semi,children:[" ",F(a,t)," "]}),Object(u.jsx)("span",{children:" feels like "}),Object(u.jsxs)("div",{className:S.a.semi,children:[" ",F(a,r)," "]})]})}return Object(u.jsx)(u.Fragment,{children:n?Object(u.jsx)(u.Fragment,{children:function(e){return Object(u.jsxs)("div",{className:S.a.cardWrapper,children:[Object(u.jsx)("h2",{className:S.a.cardTitle,children:k(s[e].dt,r)}),Object(u.jsx)("h4",{className:S.a.cardDescr,children:s[e].weather.map((function(e,t){return Object(u.jsx)("span",{children:"".concat(e.main,". ").concat(e.description).toUpperCase()},t)}))}),Object(u.jsxs)("div",{className:S.a.tempDescr,children:["The high will be ",F(a,s[e].temp.max),", the low will be ",F(a,s[e].temp.min),"."]}),Object(u.jsxs)("div",{className:S.a.cardWph,children:[Object(u.jsxs)("div",{children:[" Wind: ",W(a,s[e].wind_speed)]}),Object(u.jsxs)("div",{children:[" Pressure: ",s[e].pressure,"hPa "]}),Object(u.jsxs)("div",{children:[" Humidity: ",s[e].humidity,"% "]})]}),Object(u.jsxs)("div",{className:S.a.tempForTime,children:[i("MORNING",s[e].temp.morn,s[e].feels_like.morn),i("AFTERNOON",s[e].temp.day,s[e].feels_like.day),i("EVENING",s[e].temp.eve,s[e].feels_like.eve)]}),Object(u.jsx)("img",{className:S.a.iconCard,src:D("card-icons",s[e].weather[0].icon),alt:"cardIcon"}),Object(u.jsx)("button",{className:S.a.close,onClick:function(){return c()}})]})}(t)}):null})},M=function(e){var t=e.clickDay,a=e.unitName,r=e.dataForecast,n=r.daily;return Object(u.jsx)(u.Fragment,{children:r.daily?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:S.a.title,children:"8-day Forecast "}),Object(u.jsx)("div",{className:S.a.dayList,children:n.map((function(e,n){return Object(u.jsx)("div",{onClick:function(){return t(n)},className:S.a.dayWrapper,children:Object(u.jsxs)("div",{className:S.a.day,children:[Object(u.jsxs)("span",{className:S.a.dayDate,children:[" ",k(e.dt,r),"  "]}),Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:S.a.iconMini,src:D("mini-icons",e.weather[0].icon),alt:"iconMini"})}),Object(u.jsx)("span",{children:F(a,e.temp.day)})]})},e.dt)}))})]}):null})},I=function(e){var t=e.dataForecast,a=e.unitName,n=Object(r.useState)(!1),c=Object(O.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(null),d=Object(O.a)(o,2),l=d[0],h=d[1];return Object(u.jsxs)("div",{className:S.a.wrapperForecast,children:[Object(u.jsx)(M,{id:l,dataForecast:t,unitName:a,clickDay:function(e){i(!0),h(e)}}),Object(u.jsx)(L,{id:l,dataForecast:t,unitName:a,isOpenCard:s,closeCard:function(){i(!1),h(null)}})]})},V=a(19),U=a(4),H=n.a.createContext(),G=function(){return function(e){return function(t){return Object(u.jsx)(H.Consumer,{children:function(a){return Object(u.jsx)(e,Object(U.a)(Object(U.a)({},t),{},{OwmService:a}))}})}}},z=a(8),P=a.n(z),Y=a.p+"static/media/search.595d4dfb.svg",J={dataReceivedWeather:function(e){return{type:"DATA_RECEIVED_WEATHER",payload:e}},dataError:function(e){return{type:"DATA_ERROR",error:e}},dataLoading:function(e){return{type:"DATA_LOADING",loading:e}},setCity:function(e){return{type:"SET_CITY",city:e}},dataReceivedForecast:function(e){return{type:"DATA_RECEIVED_FORECAST",payload:e}}},B=G()(Object(V.b)((function(e){return{state:e.weather,dataWeather:e.weather.dataWeather,dataForecast:e.weather.dataForecast,city:e.weather.city,unit:e.weather.unit,error:e.weather.error,loading:e.weather.loading}}),J)((function(e){var t=e.OwmService,a=e.dataReceivedWeather,n=e.dataError,c=e.dataLoading,s=e.setCity,i=e.dataReceivedForecast,o=e.dataWeather,d=e.dataForecast,l=e.city,h=e.unit,j=e.error,p=e.loading,b=Object(r.useState)(h),f=Object(O.a)(b,2),x=f[0],v=f[1];function y(){return(y=Object(_.a)(m.a.mark((function e(){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=encodeURIComponent(l),"30e6b4f237af660a7c482fbf7ecb5c62",e.next=4,t.getCurrentWeather(h,r,"30e6b4f237af660a7c482fbf7ecb5c62").then((function(e){if(200!==e.cod)throw new Error;a(e),g(e.coord.lat,e.coord.lon),c(!1),n(!1)})).catch((function(e){console.log(e),c(!1),n(!0)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,a){if(!e&&!a)return i({}),n(!0);n(!1),c(!0),function(e,a,r){t.getForecast8Days(e,a,r,"30e6b4f237af660a7c482fbf7ecb5c62").then((function(e){i(e),c(!1)})).catch((function(e){n(!0),c(!1),console.log(e.status)}))}(h,e,a)}function C(e,t){return Object(u.jsxs)("div",{className:P.a.divRadio,children:[Object(u.jsx)("input",{className:P.a.radio,type:"radio",name:"units",checked:x===e,value:e,id:e,onChange:function(e){return v(e.target.value)}}),Object(u.jsxs)("label",{className:P.a.label,htmlFor:e,children:[" ",Object(u.jsxs)("span",{children:[" ",t," "]})," "]})]})}return Object(u.jsxs)("div",{className:P.a.weather,children:[Object(u.jsxs)("form",{className:P.a.weatherForm,onSubmit:function(e){if(e.preventDefault(),0===l.length)return a({}),n(!0);n(!1),c(!0),function(){y.apply(this,arguments)}(),s("")},children:[Object(u.jsxs)("div",{className:P.a.inputWrapper,children:[Object(u.jsx)("input",{type:"text",placeholder:"Search City",maxLength:"50",value:l,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("img",{src:Y,alt:"search"})]}),Object(u.jsx)("button",{className:P.a.buttonSubmit,type:"submit",children:"Search"}),Object(u.jsxs)("div",{className:P.a.wrapperRadio,children:[C("metric","\xb0C"),C("imperial","\xb0F")]})]}),Object(u.jsx)(R,{dataWeather:o,unitName:x,loading:p,error:j}),Object(u.jsx)(I,{dataForecast:d,unitName:x})]})}))),K=(a(45),function(){return Object(u.jsxs)("div",{className:"mainWrapper",children:[Object(u.jsx)(l,{}),Object(u.jsx)(B,{}),Object(u.jsx)(p,{})]})}),Q=a(17),X=a(18),q=a(33),Z=a(32),$=function(e){Object(q.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(Q.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={error:!1},e}return Object(X.a)(a,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(u.jsx)(v,{}):this.props.children}}]),a}(n.a.Component),ee=function(){function e(){Object(Q.a)(this,e),this._baseUrl="https://api.openweathermap.org"}return Object(X.a)(e,[{key:"getResources",value:function(){var e=Object(_.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._baseUrl).concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentWeather",value:function(e,t,a){return this.getResources("/data/2.5/weather?&units=".concat(e,"&q=").concat(t,"&appid=").concat(a))}},{key:"getForecast8Days",value:function(e,t,a,r){return this.getResources("/data/2.5/onecall?lat=".concat(t,"&lon=").concat(a,"&units=").concat(e,"&exclude=current,minutely,hourly&appid=").concat(r))}}]),e}(),te=a(10),ae={dataWeather:{},dataForecast:{},unit:"metric",city:"",error:!1,loading:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_RECEIVED_WEATHER":return Object(U.a)(Object(U.a)({},e),{},{dataWeather:t.payload});case"DATA_RECEIVED_FORECAST":return Object(U.a)(Object(U.a)({},e),{},{dataForecast:t.payload});case"DATA_ERROR":return Object(U.a)(Object(U.a)({},e),{},{error:t.error});case"DATA_LOADING":return Object(U.a)(Object(U.a)({},e),{},{loading:t.loading});case"SET_CITY":return Object(U.a)(Object(U.a)({},e),{},{city:t.city});case"SET_LAT":return Object(U.a)(Object(U.a)({},e),{},{lat:t.lat});case"SET_LON":return Object(U.a)(Object(U.a)({},e),{},{lon:t.lon});default:return e}},ne=Object(te.b)({weather:re}),ce=Object(te.c)(ne),se=a(31),ie=new ee;s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(V.a,{store:ce,children:Object(u.jsx)($,{children:Object(u.jsx)(H.Provider,{value:ie,children:Object(u.jsx)(se.a,{children:Object(u.jsx)(K,{})})})})})}),document.getElementById("root"))},7:function(e,t,a){e.exports={wrapper:"CurrentWeather_wrapper__2AeIO",left:"CurrentWeather_left__1h7mM",right:"CurrentWeather_right__4bg5r",date:"CurrentWeather_date__2koQ0",city:"CurrentWeather_city__3ezDR",feelsLike:"CurrentWeather_feelsLike__3V6KL",wph:"CurrentWeather_wph__2yrCz",descr:"CurrentWeather_descr__3tFwf",tempDegrees:"CurrentWeather_tempDegrees__BAtVt",icon:"CurrentWeather_icon__2Uh0-"}},8:function(e,t,a){e.exports={weather:"WeatherContainer_weather__Sfppc",weatherForm:"WeatherContainer_weatherForm__29QMP",inputWrapper:"WeatherContainer_inputWrapper__2VNKC",buttonSubmit:"WeatherContainer_buttonSubmit__3oVM6",wrapperRadio:"WeatherContainer_wrapperRadio__3Bfij",divRadio:"WeatherContainer_divRadio__GrLB5"}}},[[47,1,2]]]);
//# sourceMappingURL=main.347a1126.chunk.js.map